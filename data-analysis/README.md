# Numpy

- 다차원 배열과 행렬 연산 지원
- 데이터 분석, 머신러닝, 인공지능, 이미지 처리, 신호 처리, 통계 분석에 활용

## 특징

- 다차원 배열을 효율적으로 관리
- 벡터화 연산을 통해 for문을 사용하지 않고 배열 간 연산 수행
  - numpy에서 제공해주는 함수를 통해서 이뤄진다.
- 리스트에 비해 적은 메모리 사용, 대규모 데이터 처리에 효과적

| **항목** | **Python 리스트** | **NumPy 배열** |
| --- | --- | --- |
| **속도** | 느림 | 빠름 |
| **메모리 사용** | 더 많이 사용 | 덜 사용 |
| **데이터 형식** | 혼합 가능 | 동일한 자료형 |
| **연산 방식** | for문 등 반복문 필요 | 벡터화된 연산 지원 |

---

## Numpy에서 사용하는 함수

### ndarray( )

- n차원 배열 생성 가능
```python
import numpy as np
arr = np.array([1,2,3,4])
```
- 여러 속성들
```python
arr.shape # 몇 차원 배열인지 확인 가능
arr.size # 배열의 총 크기
arr.dtype # 배열의 데이터 타입
```

---
### 인덱싱 (Indexing)

- 배열의 특정 값을 선택할 때 사용
```python
arr = np.array([[1, 2, 3], [4, 5, 6], [7, 8, 9]])
print(arr[0, 1])  # 0번째 행, 1번째 열의 요소 출력 (2)
print(arr[2, 2])  # 2번째 행, 2번째 열의 요소 출력 (9)
```

### 슬라이싱 (Slicing)

- 파이썬의 리스트와 유사하게 ':'를 사용하여 슬라이싱 가능

#### !! 팬시 인덱싱(Fancy Indexing)
- 정수 배열을 사용하여 여러 위치의 값 선택 가능
```python
arr = np.array([10, 20, 30, 40, 50, 60, 70])
print(arr[[0, 2, 4]])
```
#### 불리언 인덱싱
- 조건을 만족하는 배열의 요소 선택 가능
```python
arr = np.array([10, 20, 30, 40, 50])
print(arr[arr > 30])  # [40, 50]
```
---
### 내적 연산 (Dot Product)
- 두 배열의 각 원소를 곱한 후 그 결과를 모두 더한 값
- 행렬의 연산과 같다.
```python
# 2차원과 1차원 내적
arr2d = np.array([[1, 2], [3, 4]])
arr1d = np.array([5, 6])        # [1*5 + 2*6, 3*5 + 4*6]
print(np.dot(arr2d, arr1d))     # [17, 39]
# 2차원 내적
arr2d_1 = np.array([[1, 2], [3, 4]])    # [[1*5 + 2*7, 1*6 + 2*8],
arr2d_2 = np.array([[5, 6], [7, 8]])    #  [3*5 + 4*7, 3*6 + 4*8]]
print(np.dot(arr2d_1, arr2d_2))     # [[19, 22],[43, 50]]
```
---
### 브로드 캐스팅
- 서로 다른 크기의 배열간 연산이 가능하게 해줌
- 작은 배열을 큰 배열의 크기에 맞춰서 연산 진행
```python
arr2d = np.array([[1, 2, 3], [4, 5, 6]])    # [[2, 4, 6],
arr1d = np.array([1, 2, 3])                 #  [5, 7, 9]]
print(arr2d + arr1d)
```
### 비교 연산
- 비교 연산을 통해서 각 연산이 조건에 만족하는지 확인 가능
- 내부 배열의 요소를 전부 True, False 둘중 하나로 반환
```python
arr = np.array([10, 20, 30])
print(arr > 15)  # [False, True, True]
```
---
## 집계 함수
### 합계 (sum)

### 최대 최솟값 (max / min)

### 평균(mean)

### 표준편차/분산 (std/var)

### 누계 (cumsum)

### 중앙값 (median)

### 최빈값 (Mode)

### 범위 (max - min)

---
### 정규분포
- 평균을 중심으로 데이터가 대칭적으로 분포
- 종 모양
- 평균 근처에 값이 자주 발생, 양 끝으로 갈수록 빈도 감소
```python
arr = np.random.randn(1000)  # 평균 0, 표준편차 1인 정규분포 난수 1000개
```
### 균등분포
- 모든 값이 동힐한 확률로 발생하는 분포
```python
arr = np.random.uniform(0, 1, 1000)  # 0과 1 사이의 균등분포 난수 1000개
```
---
## !! 축 (axis)
- 2차원 이상에는 축(axis)라는게 존재하여 이를 기준으로 연산을 진행하게 조정할 수 있다.
- axis = 0 은 행기준, axis = 1 은 열기준

### 정렬
- sort()함수를 사용하여 수행
- 내림차순 정렬시 '[::-1]' 슬라이싱 사용하여 내림차순
- 2차원 배열은 행과 열을 기준으로 정렬의 기준을 정할수 있음

### 인덱스 반환 정렬 (argsort)
- 배열을 정렬한 결과를 인덱스 순서값으로 반환
```python
arr2d = np.array([[3, 1, 2], [6, 4, 5]])
sorted_indices = np.argsort(arr2d, axis=1)  # 각 행을 기준으로 인덱스를 반환
# [[1, 2, 0],
#  [1, 2, 0]]
```

---
## 병합
### np.vstack()
- 수직으로 배열을 병합 =  행 기준으로 병합
### np.hstack() 
- 수평으로 배열을 병합 =  열 기준으로 병합
### np.stack()
- axis의 값에 따라 기준을 정하고 기존 배열에 차원을 추가하여 배열을 쌓음